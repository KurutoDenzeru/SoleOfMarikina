---
import { MapPin } from "lucide-react";

type StoreCard = {
  title: string;
  href?: string;
};

type Props = {
  storeId: string;
  storeName: string;
  address: string;
  cards: StoreCard[];
};

const { storeId, storeName, address, cards } = Astro.props as Props;
---

<section
  id={`store-panel-${storeId}`}
  data-store-panel={storeId}
  aria-hidden="true"
  class="pointer-events-none absolute inset-x-0 top-16 z-30 translate-y-8 scale-95 opacity-0 transition-all duration-500 ease-[cubic-bezier(0.2,0.75,0.2,1)]"
>
  <div class="mx-auto w-full px-5 sm:px-6">
    <div class="mb-3 flex items-start gap-2">
      <MapPin className="mt-1 size-9 shrink-0 text-black" />
      <div class="rounded-full bg-black px-6 py-2 text-white">
        <p class="text-lg leading-[0.9] font-semibold tracking-tight">
          {storeName}
        </p>
        <p class="mt-1 text-sm leading-none font-medium text-white/90">
          {address}
        </p>
      </div>
    </div>

    <div class="space-y-5">
      {
        cards.map((card) => {
          const lines = card.title.split("\n");
          return (
            <a
              href={card.href ?? "#"}
              data-store-card
              class="group relative block w-full min-h-46 overflow-hidden rounded-[1.35rem] bg-black px-6 py-7 shadow-md transition-transform duration-500 ease-out hover:-translate-y-1 sm:min-h-[12.2rem]"
            >
              <span class="relative flex min-h-32 items-center justify-center sm:min-h-[8.6rem]">
                <span class="text-center text-2xl leading-[0.84] font-black uppercase tracking-tight text-white sm:text-[3rem]">
                  {lines.map((line) => (
                    <span class="block">{line}</span>
                  ))}
                </span>
              </span>
            </a>
          );
        })
      }
    </div>
  </div>
</section>
