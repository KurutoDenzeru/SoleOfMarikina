---
import {
  ArrowRight,
  Facebook,
  Instagram,
  Mail,
  MapPin,
  Phone,
} from "lucide-react"

import { Button } from "@/components/ui/button"
import { Input } from "@/components/ui/input"
import { Separator } from "@/components/ui/separator"

type SocialLink = {
  label: string
  href: string
  icon: typeof Facebook
}

type Props = {
  brandName?: string
  brandLines?: [string, string]
  contactPhone?: string
  contactEmail?: string
  location?: string
  newsletterTitle?: string
  newsletterDescription?: string
  socialLinks?: SocialLink[]
  year?: number
  // onSubscribe should be a string (JS code) used for the form's onsubmit attribute
  onSubscribe?: string | null | undefined
}

const {
  brandName = "Sole of Marikina",
  brandLines = ["Sole of", "Marikina"],
  contactPhone = "09000000000",
  contactEmail = "example@gmail.com",
  location = "Sample Address St. Caloocan City",
  newsletterTitle = "Step with us",
  newsletterDescription = "Share your store details, promotions, or brand content with your customers.",
  socialLinks = [
    { label: "Facebook", href: "#", icon: Facebook },
    { label: "Instagram", href: "#", icon: Instagram },
  ],
  year = new Date().getFullYear(),
  onSubscribe,
} = Astro.props
---

<footer class="bg-[#5a5a5a] text-white">
  <div class="mx-auto flex w-full max-w-6xl flex-col gap-10 px-6 py-12 lg:gap-12 lg:py-16">
    <div class="grid gap-10 lg:grid-cols-[1.2fr_1fr_1.2fr] lg:gap-12">
      <div class="space-y-6">
        <div class="space-y-1">
          <p class="text-sm font-semibold uppercase tracking-[0.3em] text-white/70">
            {brandLines[0]}
          </p>
          <h2 class="text-3xl font-semibold uppercase tracking-wide md:text-4xl">
            {brandLines[1]}
          </h2>
        </div>
        <div class="space-y-3 text-sm text-white/80">
          <p class="text-base font-semibold text-white">Contact</p>
          <div class="flex items-center gap-2">
            <Phone className="size-4 text-white/70" />
            <span>{contactPhone}</span>
          </div>
          <div class="flex items-center gap-2">
            <Mail className="size-4 text-white/70" />
            <span>{contactEmail}</span>
          </div>
        </div>
        <div class="flex items-center gap-2">
          {
            socialLinks.map((link) => {
              const Icon = link.icon
              return (
                <Button
                  variant="ghost"
                  size="icon"
                  className="rounded-full border border-white/30 text-white hover:bg-white/10 hover:text-white"
                  asChild
                >
                  <a href={link.href} aria-label={link.label}>
                    <Icon className="size-5" />
                  </a>
                </Button>
              )
            })
          }
        </div>
      </div>

      <div class="space-y-3 text-sm text-white/80">
        <p class="text-base font-semibold text-white">Location</p>
        <div class="flex items-start gap-2">
          <MapPin className="mt-0.5 size-4 text-white/70" />
          <p>{location}</p>
        </div>
      </div>

      <div class="space-y-4">
        <div class="space-y-2">
          <p class="text-2xl font-semibold md:text-3xl">{newsletterTitle}</p>
          <p class="text-sm text-white/80">{newsletterDescription}</p>
        </div>
        <form
          onsubmit={onSubscribe}
          class="flex w-full items-center gap-2 rounded-full border border-white/60 bg-white/5 px-3 py-2"
        >
          <label for="footer-email" class="sr-only">Email</label>
          <Input
            id="footer-email"
            type="email"
            placeholder="Email"
            className="h-10 border-transparent bg-transparent text-white placeholder:text-white/60 focus-visible:border-transparent focus-visible:ring-0"
          />
          <Button
            type="submit"
            size="icon"
            className="rounded-full border border-white/40 bg-transparent text-white hover:bg-white/10"
          >
            <ArrowRight className="size-4" />
          </Button>
        </form>
      </div>
    </div>

    <Separator className="bg-white/20" />
    <div class="text-center text-xs text-white/70">
      Â© {year}, {brandName}
    </div>
  </div>
</footer>
